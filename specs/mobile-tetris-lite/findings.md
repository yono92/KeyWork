# findings.md

## 2026-02-27 구현 기록

### 설계/구현 결정
1. 경량성 우선
- 외부 라이브러리 없이 `useState + setInterval` 기반으로 게임 루프 구성
- Canvas 대신 DOM grid 렌더링으로 구현 단순화

2. 조작 통합
- 키보드 입력(방향키/Space/P)과 모바일 버튼 입력을 동일 액션 함수에 연결
- 모바일 접근성을 위해 별도 컨트롤 패널 배치

3. 통합 지점
- 기존 모드 확장 패턴(`GameMode` + `MainLayout` + 라우트)을 그대로 준수
- 메뉴 노출 목록에 `tetris`를 추가해 사용자 진입 경로를 단순화

### 확인된 기술 이슈
1. zsh에서 `app/(game)/...` 경로 생성 시 괄호 글로브 이슈 발생
- 해결: 경로를 따옴표로 감싸 생성

### 잔여 리스크
1. 고급 테트리스 규칙은 의도적으로 제외되어 숙련자 기준 깊이는 낮음
2. interval 기반 루프 특성상 탭 비활성/저사양 환경에서 체감 속도 오차 가능

## 2026-02-27 UX 개선 (피드백 반영)

### 반영 내용
1. 모바일 조작 패널 개선
- 방향 버튼을 일반 화살표 키 배열과 유사한 `↑` 단독 + `← ↓ →` 배치로 변경
- 기존 작게 붙어 있던 드롭 버튼을 하단 전체폭 `DROP` 대형 버튼으로 분리

2. Hold(Keep) 기능 추가
- `Hold` 슬롯과 `Keep (C)` 버튼 추가
- 키보드 `C`로 동일 기능 지원
- 한 턴(블록 고정 전)당 1회만 사용하도록 제한

### 구현 메모
1. 상태 추가
- `heldPieceType`, `holdUsedThisTurn` 상태로 보관 블록/턴당 사용 제한 관리
2. 턴 리셋 타이밍
- 블록 고정 후 다음 블록 스폰 시 `holdUsedThisTurn` 초기화
